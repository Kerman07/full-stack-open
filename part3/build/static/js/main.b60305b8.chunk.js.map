{"version":3,"sources":["components/Filter.js","components/Notification.js","components/Person.js","components/Persons.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","onChange","value","Notification","message","className","Person","person","deletePerson","name","number","onClick","Persons","persons","newFilter","filter","toLowerCase","includes","map","PersonForm","handleNewEntry","handleName","handleNumber","newName","newNumber","onSubmit","type","baseUrl","personService","getAll","axios","get","then","response","data","create","post","id","delete","updatePerson","put","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","useEffect","event","target","preventDefault","newObject","isFound","find","window","confirm","setTimeout","catch","error","concat","per","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b60305b8.chunk.js","sourcesContent":["const Filter = ({ onChange, value }) => {\r\n  return <input onChange={onChange} value={value} />;\r\n};\r\n\r\nexport default Filter;\r\n","const Notification = ({ message }) => {\r\n    if (message === [null, null]) return null;\r\n    return (\r\n        <div className={message[1]}>\r\n            {message[0]}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","const Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}{\" \"}\r\n      <button onClick={() => deletePerson(person)}>delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import Person from \"./Person.js\";\r\n\r\nconst Persons = ({ persons, newFilter, deletePerson }) => {\r\n  const filtered = persons.filter((person) => {\r\n    const lower = person.name.toLowerCase();\r\n    return lower.includes(newFilter.toLowerCase());\r\n  });\r\n\r\n  return filtered.map((person) => (\r\n    <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n  ));\r\n};\r\n\r\nexport default Persons;\r\n","const PersonForm = ({\r\n  handleNewEntry,\r\n  handleName,\r\n  handleNumber,\r\n  newName,\r\n  newNumber,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleNewEntry}>\r\n      <div>\r\n        name: <input onChange={handleName} value={newName} />\r\n      </div>\r\n      <div>\r\n        number: <input onChange={handleNumber} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((response) => response.data);\r\n};\r\n\r\nconst create = (person) => {\r\n  return axios.post(baseUrl, person).then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst updatePerson = (id, person) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, person)\r\n    .then((response) => response.data);\r\n};\r\n\r\nconst personService = { getAll, create, deletePerson, updatePerson };\r\nexport default personService;\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter.js\";\nimport Notification from \"./components/Notification.js\";\nimport Persons from \"./components/Persons.js\";\nimport PersonForm from \"./components/PersonForm.js\";\nimport personService from \"./services/persons.js\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState([null, null]);\n\n  useEffect(() => {\n    personService.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNewEntry = (event) => {\n    event.preventDefault();\n    const newObject = { name: newName, number: newNumber };\n    const isFound = persons.find((person) => person.name === newName);\n    if (isFound) {\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with a new one ?`\n        )\n      )\n        personService\n          .updatePerson(isFound.id, newObject)\n          .then((response) => {\n            setErrorMessage([\n              `Updated the number of ${response.name}`,\n              \"success\",\n            ]);\n            setTimeout(() => setErrorMessage([null, null]), 5000);\n            setPersons(\n              persons.map((person) =>\n                person.name === newName ? response : person\n              )\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n          .catch((error) => {\n            setErrorMessage([error.response.data.error, \"failure\"]);\n            setTimeout(() => setErrorMessage([null, null]), 5000);\n          });\n    } else {\n      personService\n        .create(newObject)\n        .then((response) => {\n          setErrorMessage([`Added ${response.name}`, \"success\"]);\n          setTimeout(() => setErrorMessage([null, null]), 5000);\n          setPersons(persons.concat(response));\n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          setErrorMessage([error.response.data.error, \"failure\"]);\n          setTimeout(() => setErrorMessage([null, null]), 5000);\n        });\n    }\n  };\n\n  const handleName = (event) => setNewName(event.target.value);\n  const handleNumber = (event) => setNewNumber(event.target.value);\n  const handleFilter = (event) => setNewFilter(event.target.value);\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`))\n      personService.deletePerson(person.id).then(() => {\n        setPersons(persons.filter((per) => per.id !== person.id));\n      });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      filter shown with <Filter onChange={handleFilter} value={newFilter} />\n      <h3>Add a new entry</h3>\n      <PersonForm\n        handleNewEntry={handleNewEntry}\n        handleName={handleName}\n        handleNumber={handleNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        newFilter={newFilter}\n        deletePerson={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}